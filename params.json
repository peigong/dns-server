{"name":"Dns-server","tagline":"DNS服务器","body":"# DNS服务器 #\r\n\r\n## 环境依赖 ##\r\n\r\n- Redis服务需要开启（或开机启动）\r\n\r\n## 部署服务的目录结构 ##\r\n\r\n部署服务需要的目录结构如下：\r\n\r\n- **config：**服务的配置目录。\r\n- **dns：**服务的软链接目录。\r\n- **release：**版本发布目录。\r\n\r\n**建议：**可以部署在目标服务器的`/home/localad/dns-server`目录下。\r\n\r\n## 服务部署的方法 ##\r\n\r\n### 克隆和部署 ###\r\n\r\n使用GIT克隆项目代码：\r\n\r\n\tcd /home/localad/dns-server/release\r\n\tgit clone https://github.com/localad/dns-server.git dns-server-{版本号} -b {版本号}\r\n\r\n### 建立软连接 ###\r\n\r\n\trm -rf /home/localad/dns-server/dns\r\n\tln -s /home/localad/dns-server/release/dns-server-{版本号} /home/localad/dns-server/dns\r\n\r\n第一次部署时，需要复制系统配置文件，并设置：\r\n\r\n\tcp -r /home/localad/dns-server/release/dns-server-{版本号}/config /home/localad/dns-server\r\n\r\n### 启动和停止服务 ###\r\n\r\n进入`dns/bin`目录，可以使用以下命令：\r\n\r\n- `sh ./server-install.sh`：安装NPM依赖\r\n- `sh ./dns-server.sh start`：启动\r\n- `sh ./dns-server.sh stop`：停止\r\n- `sh ./dns-server.sh restart`：重启\r\n\r\n## 关于DNS ##\r\n\r\n### 公共DNS ###\r\n\r\n- CNNIC SDNS：`1.2.4.8` `210.2.4.8`\r\n- [阿里公共DNS](http://www.alidns.com/)：`223.5.5.5` `223.6.6.6`\r\n- 114 DNS：`114.114.114.114` `114.114.115.115`\r\n- Google DNS：`8.8.8.8` `8.8.4.4`\r\n\r\n### 服务器DNS的配置 ###\r\n\r\n本机的DNS配置信息是在：`/etc/resolv.conf`\r\n\r\n### 刷新DNS缓存 ###\r\n\r\n- 进入命令提示符下（开始——运行——cmd）\r\n- 运行：`ipconfig /displaydns`命令，查看本机已经缓存了哪些dns信息\r\n- 输入 `ipconfig /flushdns` 命令清空本机的dns缓存信息\r\n- 再次输入 `ipconfig /displaydns` 命令查看一下\r\n\r\n### 配置本机DNS ###\r\n\r\n在CentOS5.4下面直接修改/etc/resolv.conf不行。\r\n\r\n必须要在/etc /sysconfig/network-scripts/ifcfg-eth0里面最后加上dns的设置。要不然，重启后，肯定使用eth0设置中没有设 dns的相关信息，使/etc/resolv.conf恢复到原来的状态。\r\n\r\n打开/etc/sysconfig/network-scripts/ifcfg-eth0，为了保险起见，可以同样修改eth1的设置\r\n\r\n## 参考文档 ##\r\n\r\n- [如何刷新DNS缓存](http://blog.csdn.net/zhongguoren666/article/details/7597675)\r\n- [全国 DNS 服务器](http://www.ip.cn/dns.html)\r\n- [全国内外公共DNS服务器地址分享](http://www.orsoon.com/news/pcnews/15733.html)\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}